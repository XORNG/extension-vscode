{
  "name": "xorng-vscode",
  "displayName": "XORNG - AI Orchestration Framework",
  "description": "Intelligent AI orchestration for enhanced coding assistance with full codebase access, GitHub Copilot and other AI providers",
  "version": "0.2.0",
  "publisher": "xorng",
  "icon": "resources/xorng-icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/XORNG/extension-vscode"
  },
  "engines": {
    "vscode": "^1.95.0"
  },
  "extensionKind": ["workspace"],
  "categories": [
    "AI",
    "Programming Languages",
    "Machine Learning",
    "Other"
  ],
  "keywords": [
    "ai",
    "copilot",
    "claude",
    "cursor",
    "codex",
    "orchestration",
    "code review",
    "context management"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "languageModelTools": [
      {
        "name": "xorng_readFile",
        "tags": ["xorng", "workspace", "files"],
        "toolReferenceName": "readFile",
        "displayName": "Read File",
        "modelDescription": "Read the contents of a file from the workspace. Use this to get the full content of source files, configuration files, or documentation. Provide the file path relative to the workspace root or an absolute path.",
        "userDescription": "Read the contents of a file from the workspace",
        "canBeReferencedInPrompt": true,
        "icon": "$(file-code)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "The file path to read. Can be relative to workspace root or absolute."
            },
            "maxLines": {
              "type": "number",
              "description": "Maximum number of lines to read. If omitted, reads entire file."
            }
          },
          "required": ["path"]
        }
      },
      {
        "name": "xorng_findFiles",
        "tags": ["xorng", "workspace", "files", "search"],
        "toolReferenceName": "findFiles",
        "displayName": "Find Files",
        "modelDescription": "Search for files in the workspace using glob patterns. Use patterns like '**/*.ts' for all TypeScript files, 'src/**/*.js' for JS files in src, or '**/package.json' for all package.json files. Returns a list of matching file paths.",
        "userDescription": "Find files matching a glob pattern",
        "canBeReferencedInPrompt": true,
        "icon": "$(search)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "pattern": {
              "type": "string",
              "description": "Glob pattern to match files. Examples: '**/*.ts', 'src/**/*.js', '**/test/*.spec.ts'"
            },
            "exclude": {
              "type": "string",
              "description": "Glob pattern for files to exclude. Default: '**/node_modules/**'"
            },
            "maxResults": {
              "type": "number",
              "description": "Maximum number of results to return. Default: 50"
            }
          },
          "required": ["pattern"]
        }
      },
      {
        "name": "xorng_searchWorkspace",
        "tags": ["xorng", "workspace", "search", "grep"],
        "toolReferenceName": "searchWorkspace",
        "displayName": "Search Workspace",
        "modelDescription": "Search for text or code patterns within files in the workspace. Similar to grep or 'Find in Files'. Use this to find function definitions, variable usages, imports, or specific code patterns. Returns matching lines with file locations.",
        "userDescription": "Search for text patterns across workspace files",
        "canBeReferencedInPrompt": true,
        "icon": "$(search)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "The text or pattern to search for"
            },
            "include": {
              "type": "string",
              "description": "Glob pattern for files to include in search. Example: '**/*.ts'"
            },
            "exclude": {
              "type": "string",
              "description": "Glob pattern for files to exclude. Default: '**/node_modules/**'"
            },
            "maxResults": {
              "type": "number",
              "description": "Maximum number of files to search. Default: 20"
            },
            "useRegex": {
              "type": "boolean",
              "description": "Whether to treat query as a regular expression. Default: false"
            },
            "caseSensitive": {
              "type": "boolean",
              "description": "Whether search is case-sensitive. Default: false"
            }
          },
          "required": ["query"]
        }
      },
      {
        "name": "xorng_getSymbols",
        "tags": ["xorng", "workspace", "symbols", "code"],
        "toolReferenceName": "getSymbols",
        "displayName": "Get Symbols",
        "modelDescription": "Get code symbols (functions, classes, methods, variables, interfaces) from a file or search for symbols across the workspace. Use with 'path' to get all symbols in a file, or with 'query' to search for specific symbol names across the codebase.",
        "userDescription": "Get code symbols from a file or search workspace symbols",
        "canBeReferencedInPrompt": true,
        "icon": "$(symbol-class)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "File path to get symbols from. If provided, returns all symbols in that file."
            },
            "query": {
              "type": "string",
              "description": "Symbol name to search for across the workspace. If provided without path, searches all workspace symbols."
            }
          }
        }
      },
      {
        "name": "xorng_getFileTree",
        "tags": ["xorng", "workspace", "files", "structure"],
        "toolReferenceName": "fileTree",
        "displayName": "Get File Tree",
        "modelDescription": "Get the file and folder structure of the workspace. Useful for understanding project organization, finding where to add new files, or getting an overview of the codebase. Returns a hierarchical tree of files and directories.",
        "userDescription": "Get the workspace file and folder structure",
        "canBeReferencedInPrompt": true,
        "icon": "$(list-tree)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "depth": {
              "type": "number",
              "description": "Maximum depth to traverse. Default: 3"
            },
            "exclude": {
              "type": "string",
              "description": "Glob pattern for paths to exclude from the tree"
            }
          }
        }
      },
      {
        "name": "xorng_getFileContent",
        "tags": ["xorng", "workspace", "files"],
        "toolReferenceName": "getFileLines",
        "displayName": "Get File Lines",
        "modelDescription": "Read specific line ranges from a file. Use this when you need to see particular sections of a file, like a specific function or class definition. Specify start and end line numbers to get just that portion.",
        "userDescription": "Read specific line ranges from a file",
        "canBeReferencedInPrompt": true,
        "icon": "$(file-code)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "The file path to read from"
            },
            "startLine": {
              "type": "number",
              "description": "Starting line number (1-based). Default: 1"
            },
            "endLine": {
              "type": "number",
              "description": "Ending line number (1-based). Default: end of file"
            }
          },
          "required": ["path"]
        }
      },
      {
        "name": "xorng_getOpenFiles",
        "tags": ["xorng", "workspace", "files", "editor"],
        "toolReferenceName": "openFiles",
        "displayName": "Get Open Files",
        "modelDescription": "Get information about currently open files, visible editors, and recently accessed files. Use this to understand what the user is working on and provide context-aware assistance.",
        "userDescription": "Get list of currently open and recently accessed files",
        "canBeReferencedInPrompt": true,
        "icon": "$(files)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "xorng_getCurrentEditor",
        "tags": ["xorng", "workspace", "editor", "selection"],
        "toolReferenceName": "currentEditor",
        "displayName": "Get Current Editor",
        "modelDescription": "Get detailed information about the currently active editor including the file content, any selected text, cursor position, and file metadata. Use this to understand what the user is currently looking at or has selected.",
        "userDescription": "Get current editor context including selection",
        "canBeReferencedInPrompt": true,
        "icon": "$(edit)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      }
    ],
    "chatParticipants": [
      {
        "id": "xorng.orchestrator",
        "name": "xorng",
        "fullName": "XORNG Orchestrator",
        "description": "AI orchestration with intelligent context management, codebase access, and sub-agent coordination",
        "isSticky": true,
        "commands": [
          {
            "name": "review",
            "description": "Review code for quality, security, and best practices"
          },
          {
            "name": "explain",
            "description": "Explain code or concepts with documentation context"
          },
          {
            "name": "refactor",
            "description": "Suggest refactoring improvements with best practices"
          },
          {
            "name": "security",
            "description": "Analyze code for security vulnerabilities"
          },
          {
            "name": "config",
            "description": "Configure XORNG settings and AI provider"
          }
        ],
        "disambiguation": [
          {
            "category": "code-review",
            "description": "The user wants code to be reviewed for quality, issues, or improvements",
            "examples": [
              "Review this code for me",
              "What are the issues in this function?",
              "Can you check this for bugs?"
            ]
          },
          {
            "category": "security",
            "description": "The user wants to check code for security vulnerabilities",
            "examples": [
              "Is this code secure?",
              "Check for security issues",
              "Find vulnerabilities in this code"
            ]
          },
          {
            "category": "orchestration",
            "description": "The user wants XORNG to coordinate multiple AI capabilities",
            "examples": [
              "Use XORNG to analyze this",
              "Orchestrate a full review",
              "Get comprehensive analysis"
            ]
          }
        ]
      }
    ],
    "commands": [
      {
        "command": "xorng.selectProvider",
        "title": "XORNG: Select AI Provider"
      },
      {
        "command": "xorng.showStatus",
        "title": "XORNG: Show Status"
      },
      {
        "command": "xorng.clearMemory",
        "title": "XORNG: Clear Conversation Memory"
      },
      {
        "command": "xorng.toggleProvider",
        "title": "XORNG: Toggle Between Copilot and Native Mode"
      },
      {
        "command": "xorng.startCore",
        "title": "XORNG: Start Core"
      },
      {
        "command": "xorng.stopCore",
        "title": "XORNG: Stop Core"
      },
      {
        "command": "xorng.restartCore",
        "title": "XORNG: Restart Core"
      },
      {
        "command": "xorng.setup",
        "title": "XORNG: Setup Components"
      },
      {
        "command": "xorng.update",
        "title": "XORNG: Update Components"
      },
      {
        "command": "xorng.startInfrastructure",
        "title": "XORNG: Start Infrastructure (Docker)"
      },
      {
        "command": "xorng.stopInfrastructure",
        "title": "XORNG: Stop Infrastructure (Docker)"
      },
      {
        "command": "xorng.showInfrastructureStatus",
        "title": "XORNG: Show Infrastructure Status"
      },
      {
        "command": "xorng.showAgents",
        "title": "XORNG: Show Available Sub-Agents"
      },
      {
        "command": "xorng.showCoreLogs",
        "title": "XORNG: Show Core Logs"
      },
      {
        "command": "xorng.refreshModels",
        "title": "XORNG: Refresh Available Models"
      },
      {
        "command": "xorng.selectModel",
        "title": "XORNG: Select Copilot Model"
      },
      {
        "command": "xorng.showModelConfig",
        "title": "XORNG: Show Model Configuration"
      }
    ],
    "configuration": {
      "title": "XORNG",
      "properties": {
        "xorng.provider": {
          "type": "string",
          "default": "copilot",
          "enum": [
            "copilot",
            "native",
            "claude",
            "cursor",
            "codex"
          ],
          "enumDescriptions": [
            "Use GitHub Copilot's language model (recommended)",
            "Use XORNG's native AI providers (OpenAI, Anthropic, etc.)",
            "Use Claude Code integration (when available)",
            "Use Cursor's AI integration (when available)",
            "Use OpenAI Codex integration (when available)"
          ],
          "description": "Select the AI provider for XORNG orchestration"
        },
        "xorng.copilot.modelFamily": {
          "type": "string",
          "default": "gpt-4.1",
          "enum": [
            "gpt-4.1",
            "gpt-4o",
            "gpt-4o-mini",
            "gpt-5",
            "gpt-5.1",
            "gpt-5.1-codex",
            "gpt-5.1-codex-max",
            "gpt-5.1-codex-mini",
            "gpt-5.2",
            "gpt-5-mini",
            "gpt-5-codex",
            "o1",
            "o1-mini",
            "o3",
            "o3-mini",
            "o4-mini",
            "claude-3.5-sonnet",
            "claude-3.7-sonnet",
            "claude-sonnet-4",
            "claude-sonnet-4.5",
            "claude-opus-4.5",
            "claude-haiku-4.5",
            "gemini-2.5-pro",
            "gemini-3-flash",
            "gemini-3-pro",
            "grok-code-fast-1",
            "raptor-mini"
          ],
          "markdownDescription": "Preferred model family when using GitHub Copilot. Use `XORNG: Refresh Available Models` command to see currently available models."
        },
        "xorng.copilot.autoDetectModels": {
          "type": "boolean",
          "default": true,
          "description": "Automatically detect and update available Copilot models"
        },
        "xorng.copilot.useTaskSpecificModels": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "When enabled, XORNG will use task-specific models instead of the model selected in the chat dropdown. Configure models per task using the `xorng.copilot.taskModels` setting."
        },
        "xorng.copilot.taskModels": {
          "type": "object",
          "default": {
            "review": "gpt-4.1",
            "security": "claude-sonnet-4",
            "explain": "gpt-4o",
            "refactor": "gpt-4.1",
            "default": "gpt-4.1"
          },
          "markdownDescription": "Map of XORNG commands to Copilot model families. Use `XORNG: Refresh Available Models` to see available models. Requires `xorng.copilot.useTaskSpecificModels` to be enabled.",
          "additionalProperties": {
            "type": "string"
          }
        },
        "xorng.native.provider": {
          "type": "string",
          "default": "openai",
          "enum": [
            "openai",
            "anthropic",
            "local"
          ],
          "description": "Native AI provider when not using Copilot"
        },
        "xorng.native.apiKey": {
          "type": "string",
          "default": "",
          "description": "API key for native provider (stored securely)"
        },
        "xorng.memory.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable in-session conversation memory"
        },
        "xorng.memory.shortTermTTL": {
          "type": "number",
          "default": 3600,
          "description": "Short-term memory TTL in seconds"
        },
        "xorng.telemetry.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable token tracking and telemetry"
        },
        "xorng.logging.level": {
          "type": "string",
          "default": "info",
          "enum": [
            "debug",
            "info",
            "warn",
            "error"
          ],
          "description": "Logging level for XORNG"
        },
        "xorng.autoSetup": {
          "type": "boolean",
          "default": true,
          "description": "Automatically setup XORNG components on extension activation"
        },
        "xorng.core.autoStart": {
          "type": "boolean",
          "default": true,
          "description": "Automatically start XORNG Core after setup"
        },
        "xorng.automation.serverUrl": {
          "type": "string",
          "default": "",
          "description": "URL of the XORNG Automation Server for feedback and task processing (e.g., https://xorng.yourdomain.com)"
        },
        "xorng.automation.feedbackEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable sending feedback to the XORNG Automation Server"
        },
        "xorng.automation.telemetryEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable sending telemetry data to the XORNG Automation Server"
        },
        "xorng.automation.taskPollingInterval": {
          "type": "number",
          "default": 60,
          "description": "Interval in seconds to poll for pending tasks from the automation server"
        }
      }
    },
    "menus": {
      "editor/context": [
        {
          "command": "xorng.selectProvider",
          "group": "xorng"
        }
      ],
      "commandPalette": [
        {
          "command": "xorng.selectProvider"
        },
        {
          "command": "xorng.showStatus"
        },
        {
          "command": "xorng.clearMemory"
        },
        {
          "command": "xorng.toggleProvider"
        },
        {
          "command": "xorng.startCore"
        },
        {
          "command": "xorng.stopCore"
        },
        {
          "command": "xorng.restartCore"
        },
        {
          "command": "xorng.setup"
        },
        {
          "command": "xorng.update"
        },
        {
          "command": "xorng.showAgents"
        },
        {
          "command": "xorng.showCoreLogs"
        },
        {
          "command": "xorng.refreshModels"
        },
        {
          "command": "xorng.selectModel"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run build",
    "build": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "package": "vsce package",
    "publish": "vsce publish"
  },
  "dependencies": {},
  "devDependencies": {
    "@types/node": "^20.11.0",
    "@types/vscode": "^1.95.0",
    "@typescript-eslint/eslint-plugin": "^7.0.0",
    "@typescript-eslint/parser": "^7.0.0",
    "eslint": "^8.57.0",
    "typescript": "^5.3.0",
    "@vscode/vsce": "^3.7.1"
  }
}
